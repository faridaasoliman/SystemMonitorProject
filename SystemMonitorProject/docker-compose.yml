version: '3.8'
services:
  system-monitor:
    build: .
    container_name: system-monitor
    restart: unless-stopped
    volumes:
      - ./logs:/opt/system-monitor/logs
      - ./reports:/opt/system-monitor/reports
    # To allow SMART checks you may need to add devices and capabilities:
    # devices: - /dev/sda:/dev/sda
    # cap_add: - SYS_RAWIO
    # For NVIDIA GPU monitoring, run with the NVIDIA runtime and allow GPU access:
    # runtime: nvidia
    # GUI notes: to allow `zenity` to open dialogs on the host X server, run the container with
    #   -e DISPLAY -v /tmp/.X11-unix:/tmp/.X11-unix
    # Example (Linux host):
    # docker run -it --rm -e DISPLAY=$DISPLAY -v /tmp/.X11-unix:/tmp/.X11-unix \
    #   -v $(pwd)/logs:/opt/system-monitor/logs systemmonitorproject-system-monitor:latest
    tty: true
